# 16. 网络与软件层面的匿名

目录  
- [1 网络层面的匿名](#_1-网络层面的匿名)
- [2 操作系统层面的匿名](#_2-操作系统层面的匿名)
	- 2.1 最低要求
	- 2.2 更高要求
	- 2.3 数据加密
- [3 个人软件层面的匿名](#_3-个人软件层面的匿名)
- [附录](#_附录)
	- 数字极权社会中的信息安全风险及其应对


## 1 网络层面的匿名

**使用 Tor Browser（Tor浏览器），设置【前置代理】和【obfs4 网桥】**  
详情见下一节《Tor Browser 不完全指南》

**务必确保匿名身份【全程使用Tor】**


## 2 操作系统层面的匿名

### 2.1 最低要求
  
**绝对不要在【移动设备】上操作匿名身份账号**

**【硬件隔离】使用独立（独立于自然人身份/日常工作生活使用）、清洁（无中资软件）的桌面操作系统** 例如使用独立的计算机（【设备隔离】）、独立的硬盘（【硬盘隔离】）。这样可以将该匿名身份使用的系统与用户日常使用的系统相隔离，降低后者受攻击造成身份泄露的风险


### 2.2 更高要求

- 使用隐私强化型 Linux 发行版（匿名强度和操作难度逐一递增）   
	- 使用 antiS（Live USB）
	- 使用 Tails（Live USB）
	- 以 Linux 作为 Host 使用 Whonix（双虚拟机方案）
	- 以 Qubes OS 作为 Host 使用 Whonix 和其他系统的 VM（多重虚拟机方案）
- **使用虚拟机时尽可能使用 KVM/QEMU、Xen 等开源的虚拟化方案，其次再考虑不完全开源的 VirtualBox** 
- **及时更新系统（包括 Host 和 Guest）**
- 对于不支持 Live 模式的系统，可使用【快照】回滚，或者手动删除重装

使用虚拟机和/或 Live 系统的目的是分散、隔离风险，防止流量逃逸。

【虚拟机】 (virtual machine, VM）指在主系统通过虚拟化方案运行虚拟操作系统实例。

【Live USB】 指将操作系统文件刻录到 移动 USB 存储设备上，将其制作成系统启动盘后插入个人计算机独立运行，这样可以实现与主系统的【硬盘隔离】。Live 系统即插即用，断电清零——系统只在内存/随机存取记忆体 (Random Access Memory, RAM) 上运行，后者一经断电就会失去所有数据，不会在存储介质上留下任何痕迹。

参见：[编程随想的博客｜为啥朝廷总抓不到俺——十年反党活动的安全经验汇总](https://program-think.blogspot.com/2019/01/Security-Guide-for-Political-Activists.html) (2019-01-30) 

### 2.3 数据加密

- 使用 dm-crypt/LUKS 全盘加密
- 使用 VeraCrypt 创建【虚拟加密盘】

[VeraCrypt](https://www.veracrypt.fr/) 是一款自由开源软件，可用于创建【加密物理分区】（Windows）和【虚拟加密盘】。【虚拟加密盘】创建在文件中，使用前需使用 VeraCrypt 解密并挂载虚拟硬盘

VeraCrypt 的认证方式  
- 密码/口令
- keyfiles
- 双因素认证（口令+keyfiles）

keyfiles 是指将一个或多个文件用作认证因子来加密/解密密钥（key）。

keyfiles 的优势：  
- 用户无需记忆复杂的密码/口令（password）
- 基本使穷举式的暴力破解失效
- 理论上可以对抗刑讯逼供

keyfiles 的创建方式有两种，分别是：
- 选择现有的文件作为 keyfiles
- 由 VeraCrypt 随机生成 keyfiles

keyfiles 理论上可以对抗【刑讯逼供】——仅将 keyfiles 存储在 U 盘、micro SD 卡等移动存储设备中，通过物理破坏移动存储设备来销毁 keyfiles，此后用户本人也无法解密密钥，使得刑讯逼供失去意义。

操作方法是：  
- 使用 keyfiles 或者口令+ keyfiles 双因素认证作为认证方式
- 选择由 VeraCrypt 在 micro SD 卡等外部/移动存储设备中生成 keyfiles
- 被捕前毁坏移动存储设备以彻底破坏 keyfiles
	- 毁坏的方式可以是
		- 螺丝刀/瑞士军刀破坏闪存晶片
		- 微波炉加热
		- 强酸腐蚀
		- ⋯⋯

参见：  
[Matters｜UglyBull：隐私与数据安全系列：关于彻底删除这件事](https://matters.news/@uglybull/%E9%9A%90%E7%A7%81%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8%E7%B3%BB%E5%88%97-%E9%97%9C%E6%96%BC%E5%BE%B9%E5%BA%95%E5%88%AA%E9%99%A4%E9%80%99%E4%BB%B6%E4%BA%8B-zdpuAprLc2byD6QsoicTfrUkvLefCbkiNZof5unbyFqsBJL9R)  
[有关密码学的科普内容 | Veracrypt的基本操作](https://cryptoboy.home.blog/2018/11/11/veracrypt的基本操作/)  
[编程随想的博客｜文件加密的扫盲介绍](https://program-think.blogspot.com/2011/05/file-encryption-overview.html) (2011-05-14)  
[编程随想的博客｜TrueCrypt——文件加密的法宝](https://program-think.blogspot.com/2011/05/recommend-truecrypt.html) 系列 (2011-05-18)   
[编程随想的博客｜文件备份技巧：组合“虚拟加密盘”与“网盘”](https://program-think.blogspot.com/2013/07/online-backup-virtual-encrypted-disk.html) (2013-07-26)   
[编程随想的博客｜扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品](https://program-think.blogspot.com/2015/10/VeraCrypt.html) (2015-10-10)  
[编程随想的博客｜如何用“磁盘加密”对抗警方的【取证软件】和【刑讯逼供】，兼谈数据删除技巧](https://program-think.blogspot.com/2019/02/Use-Disk-Encryption-Anti-Computer-Forensics.html) (2019-02-14)


## 3 软件层面的匿名

- 不要安装【中资软件】
- 不要安装【闭源商业软件】
- 校验下载文件的完整性（散列值、数字签名）
- 软件越少越好（减小攻击面）
- 使用【网页版】服务，不要下载使用【客户端】
- **不要使用任何【即时通讯应用】**

参见：  
[编程随想的博客 |扫盲文件完整性校验——关于散列值和数字签名](https://program-think.blogspot.com/2013/02/file-integrity-check.html) (2013-02-12)

---

## 附录

数字极权社会中的信息安全风险及其应对


摘要：
- 【不可防范的风险】
  - 风险来源
    - 【零日漏洞】
    - 【供应链攻击】
    - 【数字取证】
  - 风险应对
    - 攻击面最小化
    - 【身份隔离】
    - 从可靠来源下载软件
    - 校验下载文件的完整性
- 【可防范的风险】
  - 风险来源
    - 【后门】
    - 【高风险软件】
    - 【第三方数据泄漏】
  - 风险应对
    - 远离【国产软件】
    - 使用【开源软件】
    - 采用【别信任何人原则】
    	- 确定并最小化暴露面  
      - 不要相信任何承诺
      - 采用【端对端加密】
      - 采用【数据本地化原则】


---

极权主义政权看似不可战胜——它能雇佣一流的技术人才发掘零日漏洞，进口监控技术和设备，用超级计算机和机器学习来识别打击翻墙协议，用锐实力逼迫外国企业配合数字监控和信息审查，向国外科技公司安插间谍……

然而数字极权并非不可撼动。一方面，国家级攻击者往往针对的是他国政府、国防承包商等高价值目标，无交互零日漏洞的黑市价格高达 6-7 位数美元（[2020年数据，来源 iYouPort](https://t.me/s/iyouport/6850)），用高射炮打蚊子并非不可能，但毕竟不符合成本效益计算。对系统入侵、零日攻击这类「硬安全」的担忧并不是多余的，只是绝大多数人更应该把注意力集中到「软安全」/防范社会工程学攻击上，学会规避那些已经被实践证明过、相对低级的错误，比如，**用中国大陆 +86 手机号码接收推特、Telegram 验证码，使用国区 Apple ID （+云上贵州）下载使用推特，转发带追踪参数的墙内平台链接，混用实名、匿名帐号，未使用 Tor Broswer 或进行浏览器加固导致在代理下发生真实 IP 泄漏……**

另一方面，密码学为我们提供了对抗利维坦的可能。从人们日常上网使用的 HTTPS 协议，到可翻墙的加密代理、加密邮件、加密即时通讯应用，背后都离不开密码学。而我们需要做的是持续推广普及基于密码学的成熟产品，努力降低这类产品的学习成本和使用门槛。试想有更多的人掌握了诸如 PGP、VeraCrypt 这样的工具，监控者的日子绝对会难过很多。

无论对手有多强大，我们都应该持续提高自己的信息安全知识水平和自我防护能力，缩小由信息和资源不对称性带来的劣势，在与数字极权的拉锯战中争取更加主动的地位。

---

信息安全风险可分为【固有风险】/【不可防范的风险】和【人为风险】/【可防范的风险】

【固有风险】是由人类认知的局限性以及技术进步造成的——不存在漏洞的代码是不存在的，昨天的旧技术无法对抗明天的新技术。

【人为风险】是由人的不可信造成的。在高度分工的信息时代，绝对的独立自主——自行完成硬件的设计、开发、制造，从零开始编写操作系统和应用程序，拉一条私有海底光缆，开发、部署和维护专有的网络服务——不仅是不经济的，更是不切实际的。为了实现效率/可用性，我们不得不依靠他人为我们提供服务，而他人往往是靠不住的——人会犯错，会偷懒，会损人利己，随时可能背叛。

---

### 1 不可防范的风险

#### 1.1 零日漏洞

[【零日漏洞】](https://en.wikipedia.org/wiki/Zero-day_(computing))（0-day）也称零时差漏洞、零日攻击。「零日」计算的是自添加漏洞安全补丁的新版本软件公开释出之日起的时间，【零日漏洞】指的是那些还没有补丁的安全漏洞，攻击者往往在漏洞补丁释出之前就已经利用漏洞完成了入侵。

安全工程师和黑客发现【零日漏洞】后的“正统”做法是将漏洞反馈给原软件发行商，比如发现 Safari 浏览器的零日漏洞后反馈给 Apple，等待发行商释出含有漏洞修复补丁的新版本软件后再公开该漏洞。普通用户所能做的就是等待新版本释出后及时下载安装更新。

然而，现实中有大量未披露的零日漏洞掌握在情报机构、网络武器/间谍软件公司、黑客、黑产等恶意人士手中，利用这类漏洞发起的攻击是无法防范的。以色列间谍软件公司 NSO 公司的成名之作 [Pegasus](https://en.wikipedia.org/wiki/Pegasus_(spyware))（飞马）就利用了 iOS 的多个未披露的零日漏洞。Pegasus 早期是以发送带恶意链接的钓鱼短信的方式传播的，被攻击者只要具备反钓鱼意识还是可以防范的，后来 Pegasus 发展到使用无交互攻击 (zero-click attack)，也就是说被攻击者不进行任何操作就已经中招了，这样的攻击可以说是防不胜防。

参见：  
[iYouPort | 新法律正在帮助中国政府储备零日漏洞](https://iyouport.substack.com/p/d09) (2021-11-02)  

#### 1.2 供应链攻击

【供应链攻击】的危险与【零日漏洞】相似，即被攻击者几乎不可能在第一时间发现攻击，对于攻击没有反应时间，因此无法防范。

【供应链攻击】有硬件和软件之分。

硬件的【供应链攻击】指在为目标客户生产的硬件设备中植入提供后门的间谍芯片或植入间谍软件。硬件的供应链攻击的典型事例是 2018 年 10 月彭博社报道的中国军事机构在美超微 (Super Micro Computer) 为 Apple 和 Amazon 等客户设计、在中国制造的服务器主板中植入能提供后门的微芯片（报道发出后三家公司均予以否认，目前报道内容无法被证实或证伪）。

近期发生的软件的【供应链攻击】事例是卡巴斯基发现中文 YouTube 频道“工具大师i”在视频下方以蓝奏云网盘文件的形式提供的 Tor Browser 捆绑了恶意组件，其有能力收集包括「安装软件、运行进程、Tor 浏览器历史、Google Chrome 和 Edge 浏览器历史，微信和 QQ ID，Wi-Fi 网络的 SSID 和 MAC」在内的信息。这起恶意洋葱尚属于相对低级的钓鱼攻击（稍有安全素养的人都知道 Tor Browser 应从官网 https://www.torproject.org 下载）

参见：  
[Bloomberg | The Big Hack: How China Used a Tiny Chip to Infiltrate American's Top Companies ](https://www.bloomberg.com/news/features/2018-10-04/the-big-hack-how-china-used-a-tiny-chip-to-infiltrate-america-s-top-companies) (2018-10-04)  
[Solidot｜卡巴斯基发现通过 YouTube 频道传播的恶意 Tor 浏览器](https://www.solidot.org/story?sid=72968) (2022-10-06)  

#### 1.3 数字取证

数字取证设备商利用了其掌握的零日漏洞绕过了手机系统的全盘加密，使警方等在不需要机主提供密码的前提下就可以提取手机中的数据。

中国未必没有这样的高端设备，只是现实中警方普遍利用低人权优势和低技术手段，强迫被调查者提供自己的解锁密码，除非抗拒到底，不然不太可能出现无法解锁的问题。

参见：
[iYouPort | 数字取证正在泛滥：政府可以从你的手机中提取哪些数据？](https://iyouport.substack.com/p/26c) (2020-02-27)  
[iYouPort | LR 警察查手机的东西长什么样？—— 从技术角度看移动设备取证](https://iyouport.substack.com/p/lr--f1b) (2020-08-21)

---

### 2 不可防范风险的应对方法

- 1 攻击面最小化
  - 高风险操作远离手机
  - 使用 GNU/Linux 发行版作为桌面操作系统
  - 只安装必要的软件和浏览器扩展
- 2 风险隔离
  - 硬件隔离
    - 不同的网络身份下使用不同的硬件设备    
  - 虚拟机隔离
    - 不同的网络身份下使用不同的虚拟机实例
- 3 从可靠来源下载软件
  - 例：
    - 开发者官网
    - 开源软件的 GitHub 仓库
    - 应用商店（苹果、谷歌、F-droid 等）
  - 反例
    - 第三方软件网站（如 XX 助手、XX 软件园、XX 电脑网）
    - 第三方（如博主、YouTube 频道主等）提供的网盘文件
- 4 校验下载文件的完整性
  - 散列值  
  - 数字签名

#### 2.1 抵御零日漏洞

对于普通人而言，【零日漏洞】无法防范，但我们仍可以采取【攻击面最小化】和【风险隔离】的措施来减小损失。

操作系统零日漏洞的多少不仅取决于系统本身的设计，也受到漏洞在市场的供求关系的影响。被广泛使用的移动操作系统 iOS 和 Android，桌面操作系统 Windows 和 macOS 一定是 0-day 发掘者高度关注的对象。Linux 虽然在桌面系统中较为小众，但它被广泛用作服务器操作系统，因此同样具有较高的攻击价值，即便是主打匿名和隐私强化的 Linux 发行版 Tails 也未能幸免于难。不过除了相对小众外，根据编程随想的总结，Linux 还具有「发行版多（降低【攻击面】的“确定性”）、高度可定制（降低【攻击面】的“大小”和“确定性”）、支持多样化的硬件（规避硬件的“单点风险”）、开源」等优点，使其成为相对 Windows 和 macOS 更安全的选择。

此外，任何软件中的漏洞都可能成为突破口，系统中安装的软件越多，【攻击面】也就越大。因此，在进行高风险操作的系统中应只安装必要的软件。上文提到的对 Tails 的零日攻击，就是利用了系统预装的开源播放器 VLC 中的漏洞。

【风险隔离】可以控制损失的范围，防止损失扩大。如果只是低危身份使用的系统遭到攻击，那么【风险隔离】可以保护高危身份。（无危、低危和高危身份隔离只是最低层次的隔离，如果你有更高的要求，可以像编程随想那样使用【多重虚拟机】进行隔离，为同一身份下的不同帐号（比如 Google、Twitter……）分配独立的虚拟机实例，将翻墙代理软件和浏览器等不同的软件用不同的虚拟机隔离，就好比**为每一个鸡蛋分配一个篮子**，以尽可能减小单一帐号、软件被入侵所造成的损害。）

参见：  
[编程随想的博客 | 为什么桌面系统装 Linux 可以做到更好的安全性（相比 Windows ＆ macOS 而言）](https://program-think.blogspot.com/2017/03/Why-Linux-Is-More-Secure-Than-Windows-and-macOS.html) (2017-03-27)  
[Vice | Privacy-Focused OS Wants to Know How Facebook and the FBI Hacked it](https://www.vice.com/en/article/dyz3jy/privacy-focused-os-tails-wants-to-know-how-facebook-and-the-fbi-hacked-it) (2020-06-23)



#### 2.2 抵御供应链攻击

钓鱼式的【软件供应链攻击】是可以防范的，做法是【从可靠来源下载软件】和【校验下载文件的完整性】。

【校验下载文件的完整性】有校验【散列值】和【数字签名】两种方式。

【散列值】也叫哈希值 (Hash)，是指通过散列算法「将【任意尺寸】的数据（原始数据）转变为一个【固定尺寸】的“小”数据」。软件发行者会同时提供下载文件及其散列值，用户下载后算出散列值后再与发行者提供的数值进行比对，如果二者一致，则说明文件/原始数据未经篡改。

【数字签名】是另一种校验方式。PGP 提供的【数字签名】是其中的一种，它使用公钥加密，生成的密钥对分为公钥和私钥。在常见的发送加密信息场景下，发送者用接收方的公钥加密文本，接收方用私钥解密；在校验数字签名的场景下，软件开发者用自己的私钥给文件签名，并公开自己的公钥，下载者用公钥解密来验证下载文件的数字签名，任何对文件的篡改会导致解密失败。

【硬件供应链攻击】是很难防范的。由于全球制造业高度集中于中国，要摆脱中国制造是很困难的。如有可能，建议优先购买非中国制造的数码产品，其次可以考虑中国制造的海外版设备。

参见：  
[编程随想的博客 |扫盲文件完整性校验——关于散列值和数字签名](https://program-think.blogspot.com/2013/02/file-integrity-check.html) (2013-02-12)

#### 2.3 抵御数字取证

无论苹果还是安卓手机在数字取证设备面前都是非常脆弱的。因此，如果你的手机落入警方手中，你只能推定对方有能力读取手机中的全部数据。就线上匿名而论，你不应在手机上进行高风险操作。

**就手机而言，使用小众、注重安全的硬件可以大幅提高破解难度，甚至可以有效抵御数字取证。**Android 平台类似桌面端的 Linux，有众多发行版且高度可定制，因而可以降低【攻击面】的大小和确定性。相信很多人都听说过在香港反送中运动中黄之锋（4 位密码）的 iPhone XR 被港警破解，而周庭的 Pixel 则无恙的故事。白纸运动后中共当局勒令闲鱼等墙内二手电商平台下架 Pixel 系列手机，更证明其仍没有把握破解 Pixel，只能诉诸低技术手段封杀。除 Pixel 等未进入中国市场的安卓手机外，一些更小众的手机支持 Mobian、PureOS 等适配移动设备的 Linux 操作系统，它们未必坚不可摧，但低流行度决定了它们在抗破解/取证上比树大招风的 iPhone 更具优势。

桌面级操作系统在对抗数字取证上更具优势。比如只将数据写在 Live 系统中，临时存储在内存中的数据随机器断电消失；或使用 dm-crypt/LUKS 或 VeraCrypt，将生成在移动存储设备中的 keyfile(s) 作为认证因子加密文件/磁盘并物理破坏移动存储设备。

参见：
[一天世界 | 黄之锋的 iPhone XR 为什么会被警方破解？因为锁屏密码只有四位](https://blog.yitianshijie.net/2020/04/06/joshua-wong-used-four-digit-passcode-on-his-iphonexr-which-was-cracked-by-hongkong-police/)  
[https://t.me/s/XueXiNmsland/47504](https://t.me/s/XueXiNmsland/47504)  
[编程随想的博客｜如何用“磁盘加密”对抗警方的【取证软件】和【刑讯逼供】，兼谈数据删除技巧](https://program-think.blogspot.com/2019/02/Use-Disk-Encryption-Anti-Computer-Forensics.html) (2019-02-14)  


---

### 3 可防范的风险

#### 3.1 后门

【后门】是软件开发者有意植入的可用于远程监控用户的恶意代码。典型例子是美国国安局 NSA 的[棱镜项目（PRISM）]([PRISM - Wikipedia](https://en.wikipedia.org/wiki/PRISM))，但由于项目不透明以及相关系统软件的封闭性，我们无法得知 NSA 是要求参与项目的科技公司和互联网服务商为其创建后门，还是像 Google 等科技公司所公开承认的那样只是配合数据请求。至于微软、苹果等在华经营的外国公司是否在中共政权要求下在国行版 Windows 和 iOS 中是否植入了后门，同样也是难以证实或证伪的。

在政府/法律要求下创建的【后门】属于【制度性问题】，即政府主动作恶（参考沉默的广场在[《反洗脑：怎样识破五毛的比烂诡辩话术》]([反洗脑：怎样识破五毛的比烂诡辩话术 - 2047 — 2047](https://2047.one/t/11393))中使用的【偶然性的问题】、【系统性的问题】和【制度性的问题】分类）。不管【后门】本身是否存在，棱镜项目是经《外国情报监视法》(FISA) 授权的合法项目，科技公司有义务配合情报、执法机构工作；中国的《国家情报法》第7条也有「任何组织和公民都应当依法支持、协助和配合国家情报工作，保守所知悉的国家情报工作秘密」的规定。对于【后门】，在料敌从宽的原则下，应宁信其有。



#### 3.2 高风险软件

【高风险软件】包括强制实名制注册的软件，在提供基础功能之外实施监视用户行为、收集不必要的个人信息等恶意有害行为的软件，以及多次被曝出存在严重安全漏洞或发生数据泄漏的软件。

所有国产安卓手机 ROM 及其预装应用，BAT 等中资大厂开发的闭源专有商业软件，学习强国，反诈中心 app，以及有中资、中国技术背景的国外应用（如 Clubhouse、Zoom、Discord）都属于【高风险软件】。Meta 系的 Facebook、WhatsApp 等应用也属于【高风险软件】。


参见：  
[Solidot | 一加的氧 OS 会跟踪用户的所有活动](https://www.solidot.org/story?sid=54074)（2017-10-10）  
[Solidot | 小米华为被发现悄悄给予应用过多权限](https://www.solidot.org/story?sid=55536)（2018-02-12）  
[Solidot |腾讯游戏声明收集用户的 Shadowsocks 配置信息](https://www.solidot.org/story?sid=59369) (2019-01-19)  
[Solidot | 小米被指记录用户的 Web 和手机使用数据](https://www.solidot.org/story?sid=64260) (2020-05-01)  
[Solidot | QQ 被发现扫描并上传用户的浏览器历史](https://www.solidot.org/story?sid=66679) (2021-01-17)  
[网易云升级程序读取 Telegram 主程序 - V2EX](https://www.v2ex.com/t/748704) (2021-01-26)  
[Solidot | 输入法的隐私问题](https://www.solidot.org/story?sid=66826) (2021-02-01)  
[中国数字时代 | 【弄个大新闻】强制推广的“国家反诈中心app”上交隐私给国家？](https://chinadigitaltimes.net/chinese/664606.html) (2021-04-09)



#### 3.3 第三方数据泄漏

本文采用的是广义的【数据泄漏】，分为自愿型和非自愿型。

- 数据泄漏
  - 自愿型
    - 服务商主动向政府披露
  - 非自愿型
    - 服务商在政府要求下披露
    - 因网络/社工攻击泄漏



### 4 可防范风险的应对方法

#### 4.1 远离【国产软件】

翻墙浏览墙外网站、在墙外平台发表涉政言论等风险操作务必保证远离【国产软件】。

如果确实有需要使用某款国产软件，应实施【风险隔离】——在独立的、由无危身份/自然人身份使用的硬件设备（【硬件隔离】）或独立的虚拟机实例（【虚拟机隔离】）中运行该软件。



#### 4.2 使用【开源软件】

使用开源的系统和软件可以防范【后门】。主流闭源操作系统 Windows、Android（部分开源）、iOS 的开发方微软、谷歌、苹果都是棱镜项目的参与者，而开源的 Linux 就不需要担心后门的问题。

在这里你不必完全遵循【开源软件】的原始定义，可以把它简单理解成开放源代码 (source-available) 的软件。开源软件未必比闭源专有软件安全，而只是更值得信任。闭源软件是高度不确定的黑箱，它的安全性很难验证，而开源软件通过透明度解决了信任问题——专业人士可以对源代码进行安全审计，检验其是否含有后门/恶意代码。


#### 4.3 采用【别信任何人原则】

【别信任何人】([Trust no one](https://en.wikipedia.org/wiki/Trust_no_one_(Internet_security))) 有别于于【零信任安全模型】/【零信任网络架构】([Zero trust security model](https://en.wikipedia.org/wiki/Zero_trust_security_model))，后者的理念是「从不信任，总是验证」。维基百科所定义的 Trust no one 只限于自我掌控密钥，而本文采用的是【别信任何人】的字面理解，指的是一种基于【底线思维】的安全策略。

采用【别信任何人】原则是因为人是极不可控的因素，你永远无法知道这一刻的「朋友」是否会在下一秒背叛。对此，你应从最坏处揣测自己的服务商及其一切躲在暗处偷窥的不分国籍的老大哥。

服务商不论国内外都是不可信的。进口替代国产显然是不够的，因为你不知道外国科技企业是否会为了商业利益而出卖你，企业内部是否被特务渗透。比如前推特安全主管在参议院作证称推特被中国和印度特工渗透，FBI 也警告过有中国国安部的间谍潜入了推特。

敌人的敌人未必是朋友，外国老大哥也是不可信的。你不该把 NSA/CIA/FBI，五眼/九眼/十四眼联盟当作朋友，中共的 MSS、PLA 战略支援部队是与他们能力相近的对手，许多美国能做的中国同样也能做；就算美国老大哥技高一筹，也不能排除它们被间谍渗透，或是雇员、承包商被收买策反的可能。

参见：  
[The Washington Post | Twitter whistleblower says security holes cause ‘real harm to real people’](https://www.washingtonpost.com/technology/2022/09/13/twitter-whistleblower-peiter-zatko-testifies/) (2022-09-13)  


##### 确定并最小化暴露面  

确定暴露面是在假定他人会出卖你之后确定对方掌握了多少数据，暴露会对你造成何种影响。

经服务商处理的数据可分为【元数据】和【内容】。【元数据】是指提供关于其他数据的数据，包括何人、何时、何地、如何。比如论坛的用户 ID、浏览器 UA、IP 地址、上线时间、传输的数据包大小等都属于【元数据】。【内容】指用户创造的实质信息，比如在即时通讯应用中的全部聊天记录，电子邮箱中的全部邮件等。

最小化 IP 的暴露面可以使用 Tor Browser 等【匿名工具】。这样即便 IP 被记录也不用太担心，ISP 看到的是你代理服务器 IP（使用代理本身是无法被隐匿的）， 代理/VPS 服务商看到的是 Tor 入口节点/网桥的 IP，目标网站看到的是 Tor 出口节点的 IP，从代理到 Tor 再到目标网站服务器全部沦陷的概率是极低的。

最小化【内容】的暴露面可以使用本地加密，让服务商以及潜在攻击者都只能看到加密过的密文。

##### 不要相信任何承诺

任何无法验证的承诺都是废话，只能提供虚假的安全感。一方面，现实中多的是东窗事发后被揭穿的「挂羊头卖狗肉」式的虚假承诺；另一方面，即便服务商确实守信，一旦第三方成功入侵了服务器，一切就不由服务商做主了。因此，对于一切承诺应采逆向思维，从反面解读。比如「服务器零日志政策」应解读为保留日志，「不记录 IP 政策」应解读为记录 IP……

参见：  
[iYouPort | VPN 如何出卖了你：声明“不记录日志”的 VPN 服务 IPVanish 卷入日志丑闻](https://steemit.com/technology/@iyouport/vpn-vpn-ipvanish)  
[Solidot｜声称不记录日志的 VPN 公司泄露了 2000 万用户日志](https://www.solidot.org/story?sid=64970) (2020-07-17)  
[Solidot | Bing 合同禁止 DuckDuckGo 完全屏蔽微软跟踪程序](https://www.solidot.org/story?sid=71622) (2022-05-25)   
[Solidot | 苹果公司在加州遭集体诉讼](https://www.solidot.org/story?sid=73350) (2022-11-13) – 起诉该公司违反隐私设置承诺收集 iPhone 用户数据  


##### 采用【端对端加密】

【端对端加密】所解决的对服务商的信任问题。理论上，在端对端加密下只有你和通信方掌握解密密钥，服务商只经手密文且没有读取密文的能力。


##### 采用【数据本地化原则】

你无法指望也无法验证在线服务商是否妥善保护、合理使用你上传的数据。因此，对于关键信息应该保证永远留在本地磁盘，在本地存储、运算。

对于文件格式转换、修图、图像文字识别、语音转文字等对算力需求不大的运算完全可以利用开源软件在本地进行。

在电子邮件、即时通讯软件提供的端对端加密通信服务中，密钥生成、分发和更新等都是由服务商代办的，对于服务端不开源、不支持自托管的服务来说，你无法验证服务商提供是不是真实意义上的「端对端加密」。对此，你可以在本地使用 PGP 加密数据后再上传，确保服务商得到的是密文而非明文，令服务商即使有心作恶也无法窥得你的通信内容。


---

附：如何培养信息安全意识
1.阅读「编程随想的博客」中带「[IT.信息安全](https://program-think.blogspot.com/search/label/IT.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8)」标签的博文。
2.订阅中文科技资讯网站 [Solidot](https://www.solidot.org/) 和它效仿的英文原型 [Slashdot](https://slashdot.org/)，这是编程随想在《近期安全动态和点评》系列博文中频繁引用的信息源。 


